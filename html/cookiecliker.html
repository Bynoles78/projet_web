<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cookie Clicker Clone</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/daisyui"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            cookie: ['Verdana', 'sans-serif']
          },
        },
      },
      plugins: [window.daisyui],
    };
  </script>
</head>
<body class="bg-base-300 text-white min-h-screen font-cookie">
  <div class="flex flex-col lg:flex-row min-h-screen">
    <!-- Cookie section -->
    <div class="w-full lg:w-1/3 flex flex-col items-center justify-center p-6">
      <h1 class="text-3xl font-bold mb-4">🍪 Pâtisserie</h1>
      <button id="cookie" class="rounded-full bg-yellow-200 hover:bg-yellow-300 shadow-lg w-60 h-60 text-7xl flex items-center justify-center">🍪</button>
      <p class="mt-4 text-xl">Cookies : <span id="cookie-count">0</span></p>
      <p class="text-sm">Par seconde : <span id="cps">0</span></p>
    </div>

    <!-- Stats + Boutique -->
    <div class="w-full lg:w-2/3 grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
      <!-- Améliorations -->
      <div>
        <h2 class="text-2xl font-bold mb-2">🔧 Améliorations</h2>
        <div id="upgrades" class="space-y-2"></div>
      </div>
      <!-- Bâtiments -->
      <div>
        <h2 class="text-2xl font-bold mb-2">🏢 Bâtiments</h2>
        <div id="buildings" class="space-y-2"></div>
      </div>
    </div>
  </div>

  <script>
    let cookies = 0;
    let cps = 0;
    let cookieClickValue = 1;

    const cookieCountEl = document.getElementById('cookie-count');
    const cpsEl = document.getElementById('cps');
    const cookieBtn = document.getElementById('cookie');
    const upgradesEl = document.getElementById('upgrades');
    const buildingsEl = document.getElementById('buildings');

    const upgradeNames = [
      "Doigt renforcé", "Doigt doré", "Clique plus fort", "Doigt en titane", "Doigt cybernétique",
      "Cookie en plomb", "Cookie blindé", "Cookie quantique", "Mouse Upgrade I", "Mouse Upgrade II",
      "Main magique", "Click++", "Clic divin", "Impact renforcé", "Impact magique",
      "Touche secrète", "Doigt stellaire", "Clavier d'or", "Main céleste", "Click ultime"
    ];

    const buildingData = [
      { name: "Curseur", baseCost: 15, cps: 0.1 },
      { name: "Grand-mère", baseCost: 100, cps: 1 },
      { name: "Ferme", baseCost: 1100, cps: 8 },
      { name: "Mine", baseCost: 12000, cps: 47 },
      { name: "Usine", baseCost: 130000, cps: 260 },
      { name: "Banque", baseCost: 1400000, cps: 1400 },
      { name: "Temple", baseCost: 20000000, cps: 7800 },
      { name: "Tour de magie", baseCost: 330000000, cps: 44000 },
      { name: "Cargaison", baseCost: 5100000000, cps: 260000 },
      { name: "Labo alchimique", baseCost: 75000000000, cps: 1600000 }
    ];

    const upgrades = upgradeNames.map((name, i) => ({
      name,
      cost: 100 * (i + 1),
      multiplier: 1 + i * 0.1,
      bought: false
    }));

    const buildings = buildingData.map(data => ({
      ...data,
      cost: data.baseCost,
      quantity: 0
    }));

    function updateUI() {
      cookieCountEl.textContent = Math.floor(cookies);
      cpsEl.textContent = cps.toFixed(1);

      upgradesEl.innerHTML = '';
      upgrades.forEach((u) => {
        const btn = document.createElement('button');
        btn.className = `btn btn-sm w-full ${u.bought ? 'btn-disabled' : 'btn-primary'}`;
        btn.textContent = `${u.name} - ${u.cost} 🍪`;
        btn.disabled = u.bought || cookies < u.cost;
        btn.onclick = () => {
          if (cookies >= u.cost && !u.bought) {
            cookies -= u.cost;
            cookieClickValue *= u.multiplier;
            u.bought = true;
            updateUI();
          }
        };
        upgradesEl.appendChild(btn);
      });

      buildingsEl.innerHTML = '';
      buildings.forEach((b) => {
        const btn = document.createElement('button');
        btn.className = 'btn btn-outline btn-sm w-full';
        btn.textContent = `${b.name} (x${b.quantity}) - ${Math.floor(b.cost)} 🍪 (+${b.cps} cps)`;
        btn.disabled = cookies < b.cost;
        btn.onclick = () => {
          if (cookies >= b.cost) {
            cookies -= b.cost;
            cps += b.cps;
            b.quantity++;
            b.cost = Math.floor(b.cost * 1.15);
            updateUI();
          }
        };
        buildingsEl.appendChild(btn);
      });
    }

    cookieBtn.addEventListener('click', () => {
      cookies += cookieClickValue;
      updateUI();
    });

    setInterval(() => {
      cookies += cps / 10;
      updateUI();
    }, 100);

    updateUI();
  </script>
</body>
</html>
